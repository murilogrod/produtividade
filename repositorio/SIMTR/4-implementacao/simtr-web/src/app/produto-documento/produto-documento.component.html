<div class="cx-page box box-primary">
		
  <cx-header-widget></cx-header-widget>

  <div class="box-body">
      <div class="container ">
        <button style="margin-left: 15px; margin-bottom: 8px" type="button" data-toggle="modal" data-target="#incluir" name="novo" (click)="abrirModal(f)" class="btn btn-primary">Novo Produto/Tipo de Documento/Processo</button>
        <br/>
          <div class="ui-widget-header" style="padding:4px 10px;border-bottom: 0 none">
            <i class="fa fa-search" style="margin:10px 10px 10px 10px"></i>
            <input #gb type="text" pInputText size="50" placeholder="Filtro Global">
          </div>        
          <p-dataTable [value] = "itens" class="col-md-12" emptyMessage="Não existem dados cadastrados" sortField="no_produto" [rows]="10" [paginator]="true" [globalFilter]="gb" #dt >
            <p-column field="no_produto" header="Produto" [style]="{'width':'30%'}" sortable="true"></p-column>
            <p-column field="no_processo" header="Processo" [style]="{'width':'30%'}" sortable="true"></p-column>
            <p-column field="no_tipo_documento" header="Tipo Documento" [style]="{'width':'30%'}" sortable="true"></p-column>
            <p-column header="Ações">
                <ng-template let-col let-dados="rowData" pTemplate="body">
                  <a name="btn-excluir" class="btn btn-link btn-xs" (click)="excluir(dados,f)" 
                    title="Excluir Produto/Tipo Documento/Processo" rel="tooltip" data-placement="top">
                    <span class="glyphicon glyphicon-trash"></span>
                  </a>
                  <a name="btn-alterar" class="btn btn-link btn-xs" (click)="alterar(dados)" data-toggle="modal" data-target="#incluir"
                    title="Alterar Produto/Tipo de Documento/Processo" rel="tooltip" data-placement="top">
                    <span class="glyphicon glyphicon-pencil"></span>
                  </a>
                </ng-template>
            </p-column>
          </p-dataTable>

          <p-confirmDialog header="Confirmação" icon="fa fa-question-circle" width="425" #cd>
            <p-footer>
              <button type="button" pButton icon="fa-close" label="Não" (click)="cd.reject()"></button>
              <button type="button" pButton icon="fa-check" label="Sim" (click)="cd.accept()"></button>
            </p-footer>
          </p-confirmDialog>
        </div>
      </div>

      <div #jModal class="modal fade" id="incluir" tabindex="-1" data-keyboard="false" data-backdrop="static">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h4 class="modal-title">{{tituloModal}}</h4>
            </div>
            <div class="modal-body">
              <div class="box-body">
                <form #f="ngForm" id="Crud" name="Crud">
                  <div class="form-group">
                      <label for="produto">Produto:</label>
                      <p-dropdown  name="produto" (onChange)="mudouProduto()" [style]="{'width':'500px'}" styleClass="form-control" filter="true"  [options]="produtos" [(ngModel)]="produtoSelecionado">
                        
                      </p-dropdown>
                  </div>
                  <div class="form-group">
                    <label for="processo">Processo:</label>
                    <p-dropdown  name="processo" (onChange)="mudouProcesso()" [style]="{'width':'500px'}" styleClass="form-control" filter="true"  [options]="processos" [(ngModel)]="processoSelecionado">
                    </p-dropdown>
                  </div>
                  <div class="form-group">
                      <label for="tipoDocumento">Tipo Documento:</label>
                      <p-dropdown name="tipoDocumento" (onChange)="mudouTipoDocumento()" [style]="{'width':'500px'}" styleClass="form-control" filter="true"  [options]="tipoDocumento" [(ngModel)]="tipoDocumentoSelecionado"></p-dropdown>
                  </div>
                  
                </form>
                <div class="modal-footer">
                  <button type="button" class="btn btn-link" data-dismiss="modal">Cancelar</button>
                  <button type="button" name="submitModal" (click)="salvar(f)" [disabled]="!f.valid" class="btn btn-primary">Gravar</button>
                </div>
              </div>
            </div>
          </div>
      </div>	
  </div>
 
